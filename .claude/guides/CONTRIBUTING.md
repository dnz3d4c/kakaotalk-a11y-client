# 기여 가이드

## 커밋 메시지 규칙

### 형식
```
<타입>: <한글 설명>

<본문 (선택)>
```

### 타입
| 타입 | 용도 |
|------|------|
| `feat` | 새 기능 |
| `fix` | 버그 수정 |
| `improve` | 기존 기능 개선 (근본 원인 해결 시도, 최적화) |
| `refactor` | 리팩토링 (기능 변경 없음) |
| `docs` | 문서만 변경 |
| `chore` | 빌드/설정/의존성 |
| `style` | 코드 스타일 (포맷팅) |
| `test` | 테스트 추가/수정 |

### fix vs improve 구분
- `fix`: 명확한 버그 수정 (잘못된 동작 → 올바른 동작)
- `improve`: 근본 원인 분석 후 최선책 적용 (성능, 안정성 개선)

### 예시
```
feat: 핫키 시스템 설정 연동
fix: 채팅방 진입 시 메시지 누락 수정
improve: 팝업메뉴 CPU 스파이크 개선
refactor: 자동 읽기 토글 기능 제거
docs: GUI 확장 문서 업데이트
```

### 커밋 단위
- 하나의 논리적 변경 = 하나의 커밋
- 작동하는 상태에서만 커밋
- 관련 없는 변경을 묶지 않기

### 커밋 시점
- 기능 구현 완료 시
- 버그 수정 완료 시
- 리팩토링 완료 시
- 문서 업데이트 완료 시

---

## CHANGELOG 작성 규칙

### 스타일
- 간결하게. 부연설명 최소화
- 괄호 안 기술 상세 생략
- 한 줄에 하나의 변경사항

### 예시
```
나쁜 예 (장황):
- wxPython 기반 GUI 및 시스템 트레이 아이콘
- 설정 다이얼로그 (핫키 커스터마이징, 상태 표시, 정보 탭)

좋은 예 (간결):
- GUI 및 트레이 아이콘
- 설정 다이얼로그
```

---

## 문서 업데이트 지침

### 업데이트 트리거

코드 변경 시 관련 문서도 함께 업데이트해야 한다.

| 변경 유형 | 업데이트 대상 문서 |
|----------|------------------|
| 새 모듈/파일 추가 | `ARCHITECTURE.md` (모듈 구조 섹션) |
| 새 기능 추가 | `ARCHITECTURE.md` (컴포넌트), `kakaotalk_a11y_guide.md` |
| 핫키 변경 | `ARCHITECTURE.md` (HotkeyManager), `BUILD.md` (실행 방법) |
| 빌드 설정 변경 | `BUILD.md` |
| 디버그 기능 변경 | `TOOLS_GUIDE.md`, `ARCHITECTURE.md` (부록) |
| UIA 관련 변경 | `KAKAO_UIA_QUIRKS.md`, `UIA_완전_가이드.md` |
| 의존성 추가/제거 | `BUILD.md` (요구사항) |
| GUI 변경 | `ARCHITECTURE.md` (gui/ 구조), `BUILD.md` (실행 방법) |

### docs/ 폴더 문서별 책임

| 문서 | 주요 내용 | 업데이트 기준 |
|------|----------|-------------|
| `ARCHITECTURE.md` | 모듈 구조, 컴포넌트, 데이터 흐름, 설계 결정 | 코드 구조 변경 시 |
| `BUILD.md` | 빌드/실행 방법, 의존성, 배포 | 빌드/배포 관련 변경 시 |
| `TOOLS_GUIDE.md` | 디버그 도구, 단축키, 분석 방법 | 디버그 기능 변경 시 |
| `kakaotalk_a11y_guide.md` | 사용자 가이드, 기능 설명 | UI/기능 변경 시 |
| `KAKAO_UIA_QUIRKS.md` | 카카오톡 UIA 특이사항 | UIA 우회 방법 변경 시 |
| `PROFILER_ANALYSIS.md` | 성능 분석 결과 | 프로파일링 후 |

### 업데이트 절차

1. **영향 분석**: 코드 변경 완료 후 위 표를 참고하여 영향받는 문서 식별
2. **문서 읽기**: 해당 문서에서 관련 섹션 찾기
3. **변경 반영**: 추가/수정/삭제
4. **로드맵 정리**: 향후 계획 섹션에서 완료된 항목 제거 또는 업데이트

### 주의사항

- 문서 커밋은 코드 커밋과 분리해도 됨
- 큰 기능은 코드와 문서를 함께 커밋해도 됨
- 문서만 변경하면 `docs:` 타입 사용
- 프롬프트 문서(`카카오톡_*.md`)는 일반적으로 업데이트 불필요

---

## 브랜치 전략

### 현재 (단일 개발자)
- `main` 브랜치에 직접 커밋

### 필요시 브랜치 사용
```
feat/<기능명>   # 새 기능
fix/<버그명>    # 버그 수정
refactor/<대상> # 리팩토링
```

### 워크플로우 (브랜치 사용 시)
1. `git checkout -b feat/<name>`
2. 작업 및 커밋
3. 테스트 검증
4. `git checkout main && git merge feat/<name>`
5. `git branch -d feat/<name>`

---

## 배포 워크플로우

### 저장소 구조
- **개발 저장소**: 상세 커밋 이력 유지
- **배포 저장소**: GitHub 공개용

### 동기화 원칙
1. 코드/문서 내용은 양쪽 동일하게 유지
2. 배포 시 여러 커밋을 하나로 합칠 수 있음 (squash)
3. 커밋 이력만 다를 수 있음

### 배포 절차

상세 체크리스트: [RELEASING.md](../../docs/RELEASING.md)
