# 사용자 가이드

카카오톡 접근성 클라이언트 사용법을 안내합니다.

---

## 1. 시작하기

### 이 프로그램이 하는 일

카카오톡 PC 버전을 스크린 리더로 사용할 때 불편한 부분을 보완합니다.

- 친구 목록, 채팅 목록을 탐색할 수 있습니다.
- 친구 탭, 채팅 탭에서 콘텍스트 메뉴로 프로필 확인, 채팅방 고정/해제가 가능합니다.
- 채팅방에서 실시간으로 메시지를 읽고 답장할 수 있습니다.
- 말풍선의 일부 공감 이모지를 클릭할 수 있습니다(추후 개선 예정)
- SAPI5 음성이 설치돼 있다면 스크린 리더 없이도 사용할 수 있습니다.

### 실행 방법

1. 릴리즈 페이지에서 최신 릴리즈를 확인 후 다운로드합니다.
2. 압축을 풀고, `KakaotalkA11y.exe`를 실행합니다. 프로그램 시작 음성이 출력됩니다.
3. 프로그램이 실행되면 시스템 트레이에서 확인할 수 있습니다.

### 시스템 트레이 접근

프로그램은 시스템 트레이에서 실행됩니다. 트레이 아이콘에 접근하려면:

1. `Win+B`를 눌러 트레이 영역으로 이동합니다
2. 화살표 키로 아이콘을 탐색합니다
3. `Enter`를 눌러 메뉴를 엽니다

트레이 메뉴에서 설정을 변경하거나 프로그램을 종료할 수 있습니다.

---

## 2. 카카오톡 PC 버전 기본 사용 방법

스크린 리더 사용자에게 유용한 카카오톡 단축키입니다.

### 일반 기능

| 단축키 | 기능 |
|--------|------|
| Ctrl+N | 새 채팅 시작 |
| Ctrl+Shift+M | 메인 창 열기 |
| Ctrl+L | 잠금 모드 |
| Alt+X | 카카오톡 종료 |

### 채팅방

| 단축키 | 기능 |
|--------|------|
| Enter | 메시지 전송 |
| Shift+Enter | 줄바꿈 |
| ESC | 채팅방 닫기 |
| Ctrl+PageUp | 이전 채팅방으로 이동 |
| Ctrl+PageDown | 다음 채팅방으로 이동 |
| Ctrl+T | 파일 보내기 |
| Ctrl+I | 대화 상대 초대 |
| Ctrl+S | 대화 내용 내보내기 |

---

## 3. 접근성 클라이언트 단축키

| 단축키 | 기능 | 설명 |
|--------|------|------|
| Ctrl+Shift+E | 이모지 스캔 | 현재 채팅방에서 공감 이모지를 탐지합니다 |
| 1~4 | 이모지 선택 | 탐지된 이모지 중 하나를 선택합니다 |
| ESC | 취소 | 이모지 선택 모드를 종료합니다 |
| Win+Ctrl+K | 프로그램 종료 | 접근성 클라이언트를 종료합니다 |

---

## 4. 기능별 사용법

### 공감 이모지 클릭하기

카카오톡 말풍선에 달린 공감 이모지를 클릭하는 기능입니다.

1. 채팅방을 열고 메시지 목록에서 `Ctrl+Shift+E`를 누릅니다
2. "이모지 N개 발견"이라는 음성이 나올 때까지 기다립니다
3. `1`, `2`, `3`, `4` 중 원하는 번호를 누릅니다
4. "클릭 완료"라는 음성이 나오면 성공입니다

취소하려면 `ESC`를 누릅니다.

### 메시지 자동 읽기

- 채팅방에 메시지가 도착하면 자동으로 새 메시지를 읽습니다.

### 메뉴 항목 읽기
- 화살표 키로 이동할 때마다 메뉴 항목을 읽습니다.

---

## 5. 문제 해결

### 일반적인 문제상황
카카오톡 PC 버전을 지원하는 스크린 리더(예: 센스 리더)와 사용시 충돌할 수 있습니다.

### 이모지가 탐지되지 않을 때

- 채팅방이 화면에 보이는지 확인합니다
- 카카오톡 창이 최소화되어 있으면 동작하지 않습니다
- 말풍선에 공감 이모지가 실제로 있는지 확인합니다

### 메시지가 읽히지 않을 때

- 카카오톡 창에 포커스가 있는지 확인합니다
- 스크린 리더가 정상 동작하는지 확인합니다
- 프로그램을 재시작합니다

### 프로그램이 반응하지 않을 때

- `Win+Ctrl+K`로 종료 후 다시 실행합니다
- 작업 관리자에서 `KakaotalkA11y.exe` 프로세스를 종료 후 재실행합니다

### 알려진 제한사항

- 이모지는 일부 항목만 지원합니다. 추후 개선 예정
- 카카오톡 창이 최소화되어 있으면 이모지 탐지가 동작하지 않습니다
- 화면 해상도나 배율에 따라 이모지 탐지 정확도가 달라질 수 있습니다

---

## 6. 기술 정보

### 개인정보 보호

이 프로그램은 100% 로컬에서 동작합니다. 채팅 내용이나 개인정보를 외부로 전송하지 않습니다.

### 이모지 탐지 방식

화면에 보이는 이모지 이미지를 OpenCV 라이브러리로 인식합니다. 템플릿 매칭 방식을 사용하기 때문에 카카오톡 업데이트로 이모지 디자인이 변경되면 인식률이 떨어질 수 있습니다.

### 스크린 리더 호환성

NVDA에서 테스트되었습니다. Windows 기본 TTS도 지원합니다.
